const initialState = {
  inputValue: '',
  storyOutput: [],
  battleLogOutput: [],
  events: ['fight', 'choiceEvent'],
  chosenEvent: null,
  possibleActions: ['explore'],
  map: [
    [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,6,6,6,0,6,6,6,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,6,6,6,6,6,6,6,6,6,6,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,0,0,0,0],
    [0,0,0,0,0,0,0,0,0,0,0,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,0,0,0],
    [0,0,0,0,0,0,0,0,0,0,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,6,6,6,6,0,0,0],
    [0,0,0,0,0,0,0,0,0,0,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,6,6,0,3,3],
    [0,0,0,0,0,0,0,0,0,0,6,6,6,5,5,5,5,5,4,4,4,4,4,5,5,5,5,6,6,0,0,3],
    [0,0,0,0,0,0,0,0,0,6,6,6,6,6,6,5,5,5,4,4,4,4,4,4,4,5,5,5,0,0,3,3],
    [0,0,0,0,0,0,0,0,0,6,6,6,6,5,5,5,4,4,4,4,4,4,4,4,4,5,5,5,0,3,3,0],
    [0,0,0,0,0,0,0,0,0,6,6,6,6,5,5,5,4,4,4,4,4,4,4,4,4,3,3,3,3,3,0,0],
    [0,0,0,0,0,0,0,0,0,6,6,6,6,5,5,5,4,4,4,4,4,4,4,4,4,0,0,3,3,0,0,0],
    [0,0,0,0,0,0,0,0,0,6,6,6,6,6,5,5,4,4,4,4,4,4,4,4,4,0,3,3,0,0,0,0],
    [0,0,0,0,0,0,0,0,0,6,6,6,6,6,6,6,0,4,4,4,4,4,4,4,0,0,3,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,6,6,6,6,6,6,6,6,0,0,4,4,4,0,0,0,0,0,3,3,2,2,2,0],
    [0,0,0,0,0,0,0,0,6,6,6,6,6,6,6,6,0,0,0,0,0,0,0,0,0,0,0,2,2,2,2,0],
    [0,0,0,0,0,0,0,6,6,6,6,6,6,6,6,6,6,6,0,0,0,0,0,0,0,0,0,2,2,2,2,0],
    [0,0,0,0,0,0,6,6,6,6,6,6,6,6,6,6,6,6,0,0,0,0,0,0,0,0,0,2,2,2,0,0],
    [0,0,0,0,0,0,6,6,6,6,6,6,6,6,6,6,6,6,0,0,0,0,0,0,0,0,0,2,2,2,1,0],
    [0,0,0,0,0,0,6,6,6,6,6,6,6,6,6,6,6,7,7,7,0,0,0,0,0,0,0,0,2,2,1,1],
    [0,0,0,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,0,0,0,0,0,0,0,2,0,1,1],
    [0,0,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,0,0,0,0,0,0,0,0,0,1,1],
    [0,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,0,0,0,0,0,0,0,0,0,1,1],
    [0,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,0,0,0,0,0,0,0,0,1,1,1],
    [0,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,0,0,0,0,0,0,0,0,1,1,0],
    [0,0,7,7,7,7,7,7,7,7,7,7,0,0,0,0,7,7,7,7,0,0,0,0,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,7,7,7,7,0,8,8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,0,7,7,7,7,8,8,8,8,8,8,8,8,0,0,0,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,0,7,7,7,7,8,8,8,8,8,8,8,8,8,8,8,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,0,7,7,7,7,8,8,8,8,8,8,8,8,8,8,8,8,0,0,0,0,0,0,0],
    [0,0,11,11,11,0,0,0,0,0,7,7,7,8,8,8,8,8,8,8,8,8,8,8,8,0,0,0,0,0,0,0],
    [0,11,11,11,11,0,0,0,0,0,0,0,0,8,8,8,8,8,8,8,8,8,8,8,8,8,0,0,0,0,0,0],
    [11,11,11,11,10,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8,8,8,8,8,8,8,0,0,0,0,0,0],
    [11,11,11,11,10,10,10,10,10,10,0,0,0,0,0,9,9,9,9,0,8,8,8,8,8,0,0,0,0,0,0,0],
    [0,11,0,10,10,10,10,10,10,10,10,10,10,9,9,9,9,9,9,9,9,9,9,9,9,0,0,0,0,0,0,0],
    [0,0,0,10,10,10,10,10,10,10,10,10,10,9,9,9,9,9,9,9,9,9,9,9,9,0,0,0,0,0,0,0],
    [0,0,0,10,10,10,10,10,10,10,10,10,10,9,9,9,9,9,9,9,9,9,9,0,0,0,0,0,0,0,0,0],
    [0,0,0,0,10,10,10,10,10,10,10,10,10,9,9,9,9,9,9,9,9,9,0,0,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,10,10,10,10,10,10,10,0,0,0,9,9,9,9,9,9,9,0,0,0,0,0,0,0,0,0,0]
  ],
  days: 1,
  dayPhase: 0,
  timeOfDayArr: [
     'noon',
     'afternoon',
     'evening',
     'night',
     'night',
     'morning'
  ],
  timeOfDay: 'noon'
}

export default (state = initialState, action) => {
  switch (action.type) {
    case 'playView/INPUT_CHANGE':
      return {
        ...state,
        inputValue: action.value
      }
    case 'playView/SET_EVENT':
      let eventRNG = Math.floor(Math.random() * state.events.length)
      return {
        ...state,
        chosenEvent: state.events[eventRNG]
      }
    case 'playView/SET_STORY_OUTPUT':
      return {
        ...state
      }
    case 'playView/FORCE_UPDATE':
      return {
          ...state,
      }
    case 'playView/FORWARD_TIME':
      return {
        ...state,
        dayPhase: state.dayPhase === 5 ? 0 : state.dayPhase + 1,
        timeOfDay: state.timeOfDayArr[state.dayPhase],
        days: state.dayPhase === 5 ? state.days + 1 : state.days
      }
    default:
      return state
  }
}